- content_for :header_tags do
  %link{ href: asset_pack_path('features/getting_started.js'), crossorigin: 'anonymous', rel: 'preload', as: 'script' }/
  %link{ href: asset_pack_path('features/compose.js'), crossorigin: 'anonymous', rel: 'preload', as: 'script' }/
  %link{ href: asset_pack_path('features/home_timeline.js'), crossorigin: 'anonymous', rel: 'preload', as: 'script' }/
  %link{ href: asset_pack_path('features/notifications.js'), crossorigin: 'anonymous', rel: 'preload', as: 'script' }/
  %meta{name: 'applicationServerKey', content: Rails.configuration.x.vapid_public_key}
  %script#initial-state{ type: 'application/json' }!= json_escape(@initial_state_json)

  = javascript_pack_tag 'application', integrity: true, crossorigin: 'anonymous'

  / Global site tag (gtag.js) - Google Analytics
  - analytics_id = 'UA-112532720-1'
  %script{ src: 'https://www.googletagmanager.com/gtag/js?id=#{analytics_id}', async: 'async' }
  :javascript
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    gtag('js', new Date());
    gtag('config', '#{analytics_id}');

.app-holder#mastodon{ data: { props: Oj.dump(default_props) } }
  %noscript
    = image_tag asset_pack_path('logo.svg'), alt: 'Mastodon'

    %div
      = t('errors.noscript_html')
